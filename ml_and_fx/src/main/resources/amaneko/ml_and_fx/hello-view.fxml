<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="amaneko.ml_and_fx.controller.MainController">
   <top>
      <VBox spacing="10">
         <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
         <HBox alignment="CENTER_LEFT" spacing="15">
            <Label text="ðŸŽ¬ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð²" styleClass="title" />
            <Region HBox.hgrow="ALWAYS" />
            <Label fx:id="userInfoLabel" text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ" />
            <Button fx:id="logoutButton" text="Ð’Ñ‹Ð¹Ñ‚Ð¸" onAction="#handleLogout" styleClass="logout-button" />
         </HBox>
         
         <!-- ÐŸÐ¾Ð¸ÑÐº -->
         <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="ðŸ” ÐŸÐ¾Ð¸ÑÐº Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð²:" styleClass="section-title" />
            <TextField fx:id="searchField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ„Ð¸Ð»ÑŒÐ¼Ð°..." prefWidth="300" />
            <Button fx:id="searchButton" text="ÐÐ°Ð¹Ñ‚Ð¸" onAction="#handleSearch" />
         </HBox>
         
         <!-- User Preferences -->
         <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸:" styleClass="section-title" />
            <Button fx:id="preferencesButton" text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð¿Ð¾Ñ‡Ñ‚ÐµÐ½Ð¸Ñ" onAction="#handlePreferences" styleClass="preferences-button" />
            <Button fx:id="favoritesButton" text="Ð˜Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ" onAction="#handleFavorites" styleClass="favorites-button" />
         </HBox>
         
         <!-- Movie Rating -->
         <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="â­ ÐžÑ†ÐµÐ½Ð¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÐ¼:" styleClass="section-title" />
            <Button fx:id="rateMovieButton" text="ÐžÑ†ÐµÐ½Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹ Ñ„Ð¸Ð»ÑŒÐ¼" onAction="#handleRateMovie" styleClass="rate-button" />
         </HBox>
         
         <!-- Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ -->
         <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="ðŸŽ¯ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸:" styleClass="section-title" />
            <Label text="ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ (0-10):" />
            <!-- <ComboBox fx:id="recommendationTypeCombo" prefWidth="150" promptText="Ð¢Ð¸Ð¿ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¹" /> -->
            <Button fx:id="recommendButton" text="Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ" onAction="#handleRecommendButton" styleClass="recommend-button" />
            <Button fx:id="clearRecommendationsButton" text="ðŸ”„ Ð¡Ð±Ñ€Ð¾Ñ" onAction="#handleClearRecommendations" styleClass="clear-button" />
            <ProgressIndicator fx:id="loadingIndicator" prefHeight="25" prefWidth="25" visible="false" />
         </HBox>
         
         <padding>
            <Insets bottom="10" left="15" right="15" top="10" />
         </padding>
      </VBox>
   </top>
   
   <center>
      <HBox spacing="15">
         <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð² -->
         <VBox spacing="5" prefWidth="400">
            <ListView fx:id="movieListView" prefHeight="500" />
         </VBox>
         
         <!-- Ð”ÐµÑ‚Ð°Ð»Ð¸ Ñ„Ð¸Ð»ÑŒÐ¼Ð° -->
         <VBox spacing="5" HBox.hgrow="ALWAYS">
            <HBox spacing="10" alignment="CENTER_LEFT">
               <Label text="ðŸŽ­ Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ„Ð¸Ð»ÑŒÐ¼Ðµ:" styleClass="section-title" />
               <Region HBox.hgrow="ALWAYS" />
               <Button fx:id="markWatchedButton" text="âœ… ÐžÑ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ ÐºÐ°Ðº Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð½Ð¾Ðµ" onAction="#handleMarkWatched" styleClass="mark-watched-button" />
               <ToggleButton fx:id="favoriteToggleButton" text="â˜† Ð’ Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ" onAction="#handleFavoriteToggle" styleClass="favorite-toggle-button" />
            </HBox>
            <HBox spacing="15">
               <!-- ÐŸÐ¾ÑÑ‚ÐµÑ€ Ñ„Ð¸Ð»ÑŒÐ¼Ð° -->
               <VBox spacing="5" alignment="TOP_CENTER" prefWidth="200">
                  <Label text="ðŸ–¼ï¸ ÐŸÐ¾ÑÑ‚ÐµÑ€:" styleClass="section-title" />
                  <ImageView fx:id="moviePosterView" fitWidth="180" fitHeight="270" preserveRatio="true" 
                             styleClass="image-view" />
               </VBox>
               <!-- Ð¢ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð´ÐµÑ‚Ð°Ð»Ð¸ -->
               <TextArea fx:id="movieDetailsArea" prefHeight="500" wrapText="true" editable="false" HBox.hgrow="ALWAYS" />
            </HBox>
         </VBox>
      </HBox>
   </center>
   
   <bottom>
      <HBox alignment="CENTER">
         <Label fx:id="statusLabel" text="Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ" />
         <padding>
            <Insets bottom="10" left="15" right="15" top="5" />
         </padding>
      </HBox>
   </bottom>
</BorderPane>
