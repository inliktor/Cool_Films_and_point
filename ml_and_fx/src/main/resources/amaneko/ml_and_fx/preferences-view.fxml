<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import java.net.URL?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="650.0" prefWidth="550.0" 
            styleClass="netflix-background, filters-view"
            xmlns="http://javafx.com/javafx/17.0.2-ea" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="amaneko.ml_and_fx.controller.PreferencesController">
    
    <stylesheets>
        <URL value="@netflix-styles.css" />
        <URL value="@filters-view.css" />
    </stylesheets>
    
    <VBox spacing="0.0" styleClass="preferences-container" AnchorPane.bottomAnchor="0.0" 
          AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        
        <!-- Header Section -->
        <VBox styleClass="header-section" style="-fx-background-color: rgba(16, 16, 16, 0.95); -fx-padding: 20px;">
            <Label text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²" styleClass="preferences-title" 
                   style="-fx-font-size: 28px; -fx-text-fill: white; -fx-font-weight: bold;"/>
            <Label text="ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð² Ð¿Ð¾Ð´ Ð²Ð°ÑˆÐ¸ Ð¿Ñ€ÐµÐ´Ð¿Ð¾Ñ‡Ñ‚ÐµÐ½Ð¸Ñ" 
                   styleClass="preferences-subtitle" 
                   style="-fx-font-size: 14px; -fx-text-fill: #b3b3b3;"/>
        </VBox>
        
        <!-- Main Content Section -->
        <ScrollPane fitToWidth="true" styleClass="content-scroll" style="-fx-background: transparent; -fx-background-color: transparent;">
            <content>
                <VBox spacing="25.0" styleClass="content-section" style="-fx-padding: 25px; -fx-background-color: #141414;">
                    
                    <!-- Genre Preferences Section -->
                    <VBox spacing="15.0" styleClass="preference-group" style="-fx-background-color: rgba(30, 30, 30, 0.7); -fx-padding: 20px; -fx-background-radius: 10px; -fx-border-color: rgba(255, 255, 255, 0.1); -fx-border-width: 1px; -fx-border-radius: 10px;">
                        <Label styleClass="section-title" text="ðŸŽ­ ÐŸÑ€ÐµÐ´Ð¿Ð¾Ñ‡Ð¸Ñ‚Ð°ÐµÐ¼Ñ‹Ðµ Ð¶Ð°Ð½Ñ€Ñ‹" 
                               style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: white;"/>
                        <Label styleClass="description-text" text="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¶Ð°Ð½Ñ€Ñ‹ Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²ÑÑ‚ÑÑ:"/>
                        
                        <ScrollPane fx:id="genreScrollPane" fitToWidth="true" prefHeight="200.0" 
                                  styleClass="scroll-pane">
                            <content>
                                <FlowPane fx:id="genreFlowPane" hgap="10" vgap="10" styleClass="genre-flow-pane">
                                    <!-- ToggleButtons will be added here programmatically -->
                                </FlowPane>
                            </content>
                        </ScrollPane>
                        
                        <Label styleClass="description-text" text="Ð’Ñ‹Ð±Ð¸Ñ€Ð°Ð¹Ñ‚Ðµ Ð¶Ð°Ð½Ñ€Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ð°Ð¼ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹ (Ð¼Ð¾Ð¶Ð½Ð¾ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾)"/>
                    </VBox>
                    
                    <!-- Minimum Rating Section -->
                    <VBox spacing="15.0" styleClass="preference-group">
                        <Label fx:id="minRatingLabel" styleClass="section-title" text="â­ ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³: 6.0"/>
                        <Label styleClass="description-text" text="ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ„Ð¸Ð»ÑŒÐ¼Ñ‹ Ñ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð¾Ð¼ Ð½Ðµ Ð½Ð¸Ð¶Ðµ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ð³Ð¾"/>
                        
                        <Slider fx:id="minRatingSlider" styleClass="slider"/>
                        
                        <HBox alignment="CENTER" spacing="10">
                            <Label text="1.0" styleClass="rating-label"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label text="10.0" styleClass="rating-label"/>
                        </HBox>
                    </VBox>
                    
                    <!-- Viewing Settings Section -->
                    <VBox spacing="15.0" styleClass="preference-group">
                        <Label styleClass="section-title" text="ðŸ”„ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð°"/>
                        
                        <CheckBox fx:id="includeWatchedCheckBox" styleClass="check-box" 
                                text="Ð’ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð¸Ð»ÑŒÐ¼Ñ‹"/>
                        
                        <Label styleClass="description-text" text="Ð•ÑÐ»Ð¸ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾, ÑƒÐ¶Ðµ Ð¾Ñ†ÐµÐ½ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð¸Ð»ÑŒÐ¼Ñ‹ Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒÑÑ"/>
                    </VBox>
                </VBox>
            </content>
        </ScrollPane>
        
        <!-- Footer Section with Buttons -->
        <VBox styleClass="footer-section">
            <!-- Status -->
            <Label fx:id="statusLabel" styleClass="description-text" text="Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐµ"/>
            
            <!-- Buttons -->
            <HBox spacing="15.0" styleClass="button-container" alignment="CENTER_RIGHT">
                <Button fx:id="cancelButton" onAction="#handleCancel" styleClass="action-button, cancel-button" 
                      text="ÐžÑ‚Ð¼ÐµÐ½Ð°"/>
                
                <Button fx:id="saveButton" onAction="#handleSave" styleClass="action-button, save-button" 
                      text="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"/>
            </HBox>
        </VBox>
    </VBox>
</AnchorPane>